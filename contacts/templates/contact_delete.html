{% extends 'contact_detail.html' %}
{% block content %}

<div class="card">
    <div class="card-header">
        <h3 class="card-title">
            Delete {{ contact.name }}
        </h3>
        <div class="col text-right">
            <i class="fe fe-alert-triangle" style="color: red"></i>
            <b style="color: red">Changes will apply globally.</b>
        </div>
    </div>
    <div class="card-body">
        <p>
            <b>Are you sure you want to delete this contact?</b> If this contact is associated with any hackathon leads, that data will also be deleted!
        </p>
        <p>
            <b style="color: red">THIS WILL DELETE {{ leads|length }} LEADS FOR {{ sponsorships|length }} AFFILIATED HACKATHON SPONSORSHIPS!</b> Please ensure that there are no related items below before deleting. 
        </p>

        <form action="" method="POST" onsubmit="if ('{{ leads|length }}{{ sponsorships | length }}' != '00') return confirm('This operation will delete {{ leads|length }} affiliated leads affecting {{ sponsorships|length }} sponsorships.')">
            {% csrf_token %}
            <input type="hidden" name="delete" value="yes" />
            <input type="submit" value="Delete Contact" class="btn btn-danger float-right" />
        </form>
    </div>
</div>

<div style="pointer-events: none; opacity: 0.5">
    {{ block.super }}
</div>
{% endblock %}